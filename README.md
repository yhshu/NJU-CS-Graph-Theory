# NJU-CS-Graph-Theory

OJ 地址：http://210.28.134.34:19019/

注意：

- 使用邻接表，而不是邻接矩阵
- 当二部图的其中一个顶点集合，都在最大匹配中时，搜索结束

## 问题 A：二部图最大匹配

### 题目描述

输入一个由X、Y两部分组成的二部图，试求图上最大匹配的规模（无需输出方案）

### 输入

第1行输入两个数，分别代表X和Y部的顶点数 第2行~第x+1行，第i行的第一个数k表示X部第(i-1)个与Y部的k个点之间有边。接下来k个数为Y部与其有边的顶点的标号。（点的标号从1开始） 输入保证X部、Y部顶点数量均不超过10^5，总边数不超过2*10^5。

### 输出

输出1行，行内只有一个整数，为图上最大匹配的规模

### 样例输入

4 4
2 3 2
1 2
1 3
1 1

### 样例输出

3

### 提示

样例解释：一个最大匹配是{(X1, Y3), (X2, Y2), (X4, Y1)} 。

一个显而易见的事实是：你不应该尝试使用邻接矩阵存储图上的边。

事实上，正确执行的算法并不需要每次遍历整个图（就像样例这样，除了X2以外的点搜索的第一条边就可以加入匹配）。

我们提供的绝大部分数据是稀疏图，如果你的算法对此做了正确设计，使用C/C++实现的程序执行时间应该明显低于1秒。

如果你写出了时间复杂度 Theta(V^2) 的实现，那……也许你会在一部分数据上超时，也许不会。



## 问题 B 附加题（分值 1）

###  题目描述
输入一个由X、Y两部分组成的二部图，X部的顶点上有权值。试求图上点权值和最大的匹配的相应的点权值之和（无需输出方案）

### 输入
第1行输入两个数，分别代表X和Y部的顶点数 第2行~第x+1行，第i行的第一个数w表示X部第(i-1)个点有权值w，第二个数k表示X部第(i-1)个与Y部的k个点之间有边。接下来k个数为Y部与其有边的顶点的标号。（点的标号从1开始） 输入保证X部、Y部顶点数量均不超过10^5，总边数不超过2*10^5。

所有点的权值和在64位整数范围内

### 输出

输出1行，行内只有一个整数，为图上点权值和最大的匹配的相应的点权值之和

### 样例输入

4 4
115 2 3 2
996 1 2
659 1 3
776 1 1

### 样例输出

2431

### 提示

样例解释：{(X2, Y2), (X3, Y3), (X4, Y1)} ，996+659+776=2431。

一个显而易见的事实是：你不应该尝试使用邻接矩阵存储图上的边。

本题仅占1分，得分要求是通过所有测试数据